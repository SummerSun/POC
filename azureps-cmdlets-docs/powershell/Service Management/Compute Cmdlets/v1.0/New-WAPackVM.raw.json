{"_lang":"csharp","_tocPath":"toc.yml","_navPath":"toc.yml","_rel":"../../../","_path":"Service Management/Compute Cmdlets/v1.0/New-WAPackVM","_navRel":"../../../toc.yml","_tocRel":"../../../toc.yml","_navKey":"~/toc.yml","_tocKey":"~/toc.yml","synopsis":"Creates a virtual machine.","isWorkflow":false,"extent":{"line":{"start":0,"end":1},"column":{"start":0,"end":0},"offset":{"start":0,"end":0},"originalText":"# New-WAPackVM\r\n"},"isSupportCommonParameters":false,"notes":"","inputs":[],"outputs":[],"links":[{"isSimplifiedTextLink":false,"linkName":"Get-WAPackVM","linkUri":"xref:Service Management\\Compute Cmdlets\\v1.0\\Get-WAPackVM"},{"isSimplifiedTextLink":false,"linkName":"Remove-WAPackVM","linkUri":"xref:Service Management\\Compute Cmdlets\\v1.0\\Remove-WAPackVM"},{"isSimplifiedTextLink":false,"linkName":"Restart-WAPackVM","linkUri":"xref:Service Management\\Compute Cmdlets\\v1.0\\Restart-WAPackVM"},{"isSimplifiedTextLink":false,"linkName":"Resume-WAPackVM","linkUri":"xref:Service Management\\Compute Cmdlets\\v1.0\\Resume-WAPackVM"},{"isSimplifiedTextLink":false,"linkName":"Set-WAPackVM","linkUri":"xref:Service Management\\Compute Cmdlets\\v1.0\\Set-WAPackVM"},{"isSimplifiedTextLink":false,"linkName":"Start-WAPackVM","linkUri":"xref:Service Management\\Compute Cmdlets\\v1.0\\Start-WAPackVM"},{"isSimplifiedTextLink":false,"linkName":"Stop-WAPackVM","linkUri":"xref:Service Management\\Compute Cmdlets\\v1.0\\Stop-WAPackVM"},{"isSimplifiedTextLink":false,"linkName":"Suspend-WAPackVM","linkUri":"xref:Service Management\\Compute Cmdlets\\v1.0\\Suspend-WAPackVM"},{"isSimplifiedTextLink":false,"linkName":"Get-WAPackVMSizeProfile","linkUri":"xref:Service Management\\Compute Cmdlets\\v1.0\\Get-WAPackVMSizeProfile"},{"isSimplifiedTextLink":false,"linkName":"Get-WAPackVMTemplate","linkUri":"xref:Service Management\\Compute Cmdlets\\v1.0\\Get-WAPackVMTemplate"},{"isSimplifiedTextLink":false,"linkName":"Get-WAPackVMOSDisk","linkUri":"xref:Service Management\\Compute Cmdlets\\v1.0\\Get-WAPackVMOSDisk"},{"isSimplifiedTextLink":false,"linkName":"Get-WAPackVNe","linkUri":"xref:Service Management\\Compute Cmdlets\\v1.0\\Get-WAPackVNe"}],"syntax":[{"parameterSetName":"UNNAMED_PARAMETER_SET_2","isDefault":false,"code":"New-WAPackVM [-AdministratorSSHKey <String>] [-Linux] -Name <String> -Template <VMTemplate>\r\n -VMCredential <PSCredential> [-VNet <VMNetwork>]"},{"parameterSetName":"UNNAMED_PARAMETER_SET_3","isDefault":false,"code":"New-WAPackVM [-AdministratorSSHKey <String>] [-Linux] -Name <String> -Template <VMTemplate>\r\n -VMCredential <PSCredential> [-VNet <VMNetwork>]"},{"parameterSetName":"UNNAMED_PARAMETER_SET_1","isDefault":false,"code":"New-WAPackVM [-AdministratorSSHKey <String>] [-Linux] -Name <String> -Template <VMTemplate>\r\n -VMCredential <PSCredential> [-VNet <VMNetwork>]"}],"examples":[{"title":"Example 1: Create a virtual machine for the Windows operating system by using a template","code":"PS C:\\>$Credentials = Get-Credential PS C:\\> $Template = Get-WAPackVMTemplate -Name \"ContosoTemplate04\"PS C:\\> New-WAPackVM -Name \"ContosoV023\" -Template $Template -VMCredential $Credentials -Windows","remarks":"The first command creates a PSCredential object, and then stores it in the $Credentials variable. The cmdlet prompts you for an account and password. For more information, type Get-Help Get-Credential.<br />The second command gets the virtual machine template named ContosoTemplate04 by using the Get-WAPackVMTemplate cmdlet, and then stores it in the $Template variable.<br />The final command creates a virtual machine named ContosoV023, based on the template stored in the $Template variable. The command specifies the Windows parameter, and, therefore, the virtual machine must run a version of the Windows operating system.","introduction":""},{"title":"Example 2: Create a virtual machine for the Linux operating system by using a template","code":"PS C:\\>$Credentials = Get-Credential PS C:\\> $Template = Get-WAPackVMTemplate -Name \"ContosoTemplate19\"PS C:\\> New-WAPackVM -Linux -Name \"ContosoV028\" -Template $Template -VMCredential $Credentials","remarks":"The first command creates a PSCredential object, and then stores it in the $Credentials variable.<br />The second command gets the virtual machine template named ContosoTemplate19 by using the Get-WAPackVMTemplate cmdlet, and then stores it in the $Template variable.<br />The final command creates a virtual machine named ContosoV028, based on the template stored in the $Template variable. The command specifies the Linux parameter, and, therefore, the virtual machine must run a version of the Linux operating system.","introduction":""},{"title":"Example 3: Create a virtual machine from an operating system disk and size profile","code":"PS C:\\>$OSDisk = Get-WAPackVMOSDisk -Name \"ContosoDiskOS\"PS C:\\> $SizeProfile = Get-WAPackVMSizeProfile -Name \"MediumSizeVM\"PS C:\\> New-WAPackVM -Name \"ContosoV073\" -OSDisk $OSDisk -VMSizeProfile $SizeProfile","remarks":"The first command gets an operating system disk named ContosoDiskOS by using the Get-WAPackVMOSDisk cmdlet, and then stores it in the $OSDisk variable.<br />The second command gets the size profile named MediumSizeVM by using the Get-WAPackVMSizeProfile cmdlet, and then stores it in the $SizeProfile variable.<br />The final command creates a virtual machine named ContosoV073 from the operating system disk stored in $OSDisk and the size profile stored in $SizeProfile.","introduction":""}],"parameters":[{"extent":{"line":{"start":72,"end":73},"column":{"start":491,"end":491},"offset":{"start":491,"end":491},"originalText":"### -AdministratorSSHKey\r\n"},"type":"String","name":"AdministratorSSHKey","isRequired":false,"description":"Specifies the Secure Shell (SSH) key for the Administrator account.","variableLength":true,"acceptWildcardCharacters":false,"pipelineInput":"True (ByPropertyName)","position":"Named","aliases":[],"isValueRequired":true,"valueVariableLength":false,"parameterValueGroup":[]},{"extent":{"line":{"start":87,"end":88},"column":{"start":491,"end":491},"offset":{"start":491,"end":491},"originalText":"### -Linux\r\n"},"type":"SwitchParameter","name":"Linux","isRequired":true,"description":"Indicates that the cmdlet creates a virtual machine to run the Linux operating system.","variableLength":true,"acceptWildcardCharacters":false,"pipelineInput":"True (ByPropertyName)","position":"Named","aliases":[],"isValueRequired":false,"valueVariableLength":false,"parameterValueGroup":[]},{"extent":{"line":{"start":102,"end":103},"column":{"start":491,"end":491},"offset":{"start":491,"end":491},"originalText":"### -Name\r\n"},"type":"String","name":"Name","isRequired":true,"description":"Specifies a name for the virtual machine.","variableLength":true,"acceptWildcardCharacters":false,"pipelineInput":"True (ByPropertyName)","position":"Named","aliases":[],"isValueRequired":true,"valueVariableLength":false,"parameterValueGroup":[]},{"extent":{"line":{"start":117,"end":118},"column":{"start":491,"end":491},"offset":{"start":491,"end":491},"originalText":"### -OSDisk\r\n"},"type":"VirtualHardDisk","name":"OSDisk","isRequired":true,"description":"Specifies an operating system disk as a VirtualHardDisk object. To obtain an operating system disk, use the Get-WAPackVMOSDisk cmdlet.","variableLength":true,"acceptWildcardCharacters":false,"pipelineInput":"True (ByPropertyName)","position":"Named","aliases":[],"isValueRequired":true,"valueVariableLength":false,"parameterValueGroup":[]},{"extent":{"line":{"start":133,"end":134},"column":{"start":491,"end":491},"offset":{"start":491,"end":491},"originalText":"### -ProductKey\r\n"},"type":"String","name":"ProductKey","isRequired":false,"description":"Specifies a product key. The product key is a 25 digit number that identifies the product license. Use a product key for an operating system that you plan to install on a virtual machine or host.","variableLength":true,"acceptWildcardCharacters":false,"pipelineInput":"True (ByPropertyName)","position":"Named","aliases":[],"isValueRequired":true,"valueVariableLength":false,"parameterValueGroup":[]},{"extent":{"line":{"start":150,"end":151},"column":{"start":491,"end":491},"offset":{"start":491,"end":491},"originalText":"### -Template\r\n"},"type":"VMTemplate","name":"Template","isRequired":true,"description":"Specifies a template. The cmdlet creates a virtual machine based on the template that you specify. To obtain a template object, use the Get-WAPackVMTemplate cmdlet.","variableLength":true,"acceptWildcardCharacters":false,"pipelineInput":"True (ByPropertyName)","position":"Named","aliases":[],"isValueRequired":true,"valueVariableLength":false,"parameterValueGroup":[]},{"extent":{"line":{"start":167,"end":168},"column":{"start":491,"end":491},"offset":{"start":491,"end":491},"originalText":"### -VMCredential\r\n"},"type":"PSCredential","name":"VMCredential","isRequired":true,"description":"Specifies the credential for the local Administrator account. To obtain a PSCredential object, use the Get-Credential cmdlet. For more information, type Get-Help Get-Credential.","variableLength":true,"acceptWildcardCharacters":false,"pipelineInput":"True (ByPropertyName)","position":"Named","aliases":[],"isValueRequired":true,"valueVariableLength":false,"parameterValueGroup":[]},{"extent":{"line":{"start":184,"end":185},"column":{"start":491,"end":491},"offset":{"start":491,"end":491},"originalText":"### -VMSizeProfile\r\n"},"type":"HardwareProfile","name":"VMSizeProfile","isRequired":true,"description":"Specifies a size profile for a virtual machine as a HardwareProfile object. To obtain a size profile, use the Get-WAPackVMSizeProfile cmdlet.","variableLength":true,"acceptWildcardCharacters":false,"pipelineInput":"True (ByPropertyName)","position":"Named","aliases":[],"isValueRequired":true,"valueVariableLength":false,"parameterValueGroup":[]},{"extent":{"line":{"start":200,"end":201},"column":{"start":491,"end":491},"offset":{"start":491,"end":491},"originalText":"### -VNet\r\n"},"type":"VMNetwork","name":"VNet","isRequired":false,"description":"Specifies a virtual network. The cmdlet connects the virtual machine to the virtual network that you specify. To obtain a virtual network, use the Get-WAPackVNet cmdlet.","variableLength":true,"acceptWildcardCharacters":false,"pipelineInput":"True (ByPropertyName)","position":"Named","aliases":[],"isValueRequired":true,"valueVariableLength":false,"parameterValueGroup":[]},{"extent":{"line":{"start":217,"end":218},"column":{"start":491,"end":491},"offset":{"start":491,"end":491},"originalText":"### -Windows\r\n"},"type":"SwitchParameter","name":"Windows","isRequired":true,"description":"Indicates that the cmdlet creates a virtual machine to run the Windows operating system.","variableLength":true,"acceptWildcardCharacters":false,"pipelineInput":"True (ByPropertyName)","position":"Named","aliases":[],"isValueRequired":false,"valueVariableLength":false,"parameterValueGroup":[]}],"children":[],"uid":"Service Management/Compute Cmdlets/v1.0/New-WAPackVM","name":"New-WAPackVM","description":"These topics are deprecated and will be removed in the future. For the updated topics, see  Azure WAPack Cmdletshttp://msdn.microsoft.com/library/dn776450.aspx. This topic describes the cmdlet in the 0.8.1 version of the Microsoft Azure PowerShell module. To find out the version of the module you're using, from the Azure PowerShell console, type (get-module azure).version.<br />The New-WAPackVM cmdlet creates a virtual machine.","overwrite_metadata":{"external_help_file":"SMAzure_Compute.xml","online_version":"4b060a7d-da50-45ff-adb6-bcba63faa90b","schema":"2.0.0","ms.topic":"reference","ms.date":"9/1/2016","source_repo":"https://github.com/azure/azure-docs-powershell","source_branch":"master","source":{"remote":{"path":"azureps-cmdlets-docs/Service Management/Compute Cmdlets/v1.0/New-WAPackVM.md","branch":"master","repo":"https://github.com/Visual-Studio-China/azure-powershell-docs-int.git"},"startLine":0,"endLine":0,"isExternal":false},"breadcrumb_path":"/powershell/breadcrumb.json","_docfxVersion":"2.5.0.0","_gitContribute":{"path":"azureps-cmdlets-docs\\apispec","branch":"master","repo":"https://github.com/Visual-Studio-China/azure-powershell-docs-int.git"},"ms.service":"Azure PowerShell","ms.technology":"Azure PowerShell","ms.prod":"powershell"},"_op_gitCommitHistory":[{"author_name":"Summer","author_email":"victoriasqq@gmail.com","committer_name":"Summer","comitter_email":"victoriasqq@gmail.com","message":"commit from appveyor","commit_sha":"27b880b052924864433e026d3893452e774177b3","commit_date":"2016-09-01 16:35:23 +0000"},{"author_name":"Summer","author_email":"victoriasqq@gmail.com","committer_name":"Summer","comitter_email":"victoriasqq@gmail.com","message":"commit from appveyor","commit_sha":"2b7e89f09c2585152b2cfdbf66d3e9b1e99f6b6e","commit_date":"2016-08-31 02:31:15 +0000"},{"author_name":"Summer","author_email":"victoriasqq@gmail.com","committer_name":"Summer","comitter_email":"victoriasqq@gmail.com","message":"commit from appveyor","commit_sha":"e2c65d16552e19a8effd32a0ec6fe73c6bfafdd5","commit_date":"2016-08-29 09:50:22 +0000"}],"ref_skeleton_gitcommit":"https://github.com/Visual-Studio-China/azure-powershell-docs-int/blob/27b880b052924864433e026d3893452e774177b3/azureps-cmdlets-docs/Service%20Management/Compute%20Cmdlets/v1.0/New-WAPackVM.md","original_ref_skeleton_git_url":"https://github.com/Visual-Studio-China/azure-powershell-docs-int/blob/master/azureps-cmdlets-docs/Service%20Management/Compute%20Cmdlets/v1.0/New-WAPackVM.md","open_to_public_contributors":false,"updated_at":"2016-09-02 12:35 AM","__global":{"_shared":{}}}